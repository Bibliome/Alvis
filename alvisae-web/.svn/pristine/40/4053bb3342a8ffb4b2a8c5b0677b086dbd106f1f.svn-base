<!doctype html>
<!--
/*
 *
 *      This software is a result of Quaero project and its use must respect the rules of the Quaero Project Consortium Agreement.
 *
 *      Copyright Institut National de la Recherche Agronomique, 2010-2011.
 *
 */
-->

<html>
        <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">

        <title>StanEditor Module Tester</title>
        <script type="text/javascript" language="javascript" src="stanEditor/stanEditor.nocache.js"></script>
        <script type="text/javascript" language="javascript" src="jquery-1.6.1.min.js"></script>
        <style type="text/css" >
            HTML, BODY {height:100%;}
        </style>
    </head>

    <body>

        <!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
        <noscript>
        <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
            Your web browser must have JavaScript enabled
            in order for this application to display correctly.
        </div>
        </noscript>

        <script type="text/javascript" language="javascript" >jQuery.noConflict();</script>

        <div id="StanEditorTester"></div>
        <!--

        <script type="text/javascript" language="javascript">
            
            var json = '{  "document":{  "id":1,   "contents":"Abstractn-Dodecane and fatty acids were good inducers of cytochrome P450 (CYP) and the ω-hydroxylase of lauric acid, which is a marker for ω-hydroxylation of n-alkanes, in Trichoderma harzianum. A cDNA, containing an ORF of 1520 bp, encoding a CYP52 of 520 amino acids, was isolated by RACE. Another n-alkane-inducible CYP was identified by LLC-MS\/MS analysis of a microsomal protein band induced by n-dodecane in a library of T. harzianum. This suggests that T. harzianum has a CYP-dependent conversion of alkanes to fatty acids allowing their incorporation into lipids.",   "description":"A random PubMed document",   "owner":1,  "props" : {  "shortName":["serialized_example.json"],  "hlink":["http:\/\/bibliome.jouy.inra.fr\/Stane\/demo_fsov\/1_Lr.pdf"]   }  },   "annotation":[{  "id":66,   "owner":1,   "type":"UserAnnotation",   "timestamp":"2011-06-21 17:48:39 CEST",   "revision":64,   "description":"Foo\'s Annotation",   "head":true,   "text_annotations":[{  "id":"a4840a41-695f-4e6d-b8fd-b8ae9efbf6b7",   "kind":0,   "type":"taxon",   "properties":{  "taxid":["kmklm","kmklm"]  },   "text":[[172,193]]   },{  "id":"6f211019-45e4-4b48-ac43-90000dc09cac",   "kind":0,   "type":"taxon",   "properties":{},   "text":[[460,472]]   },{  "id":"2cb55b5a-4345-47fe-9476-6bf3bf188095",   "kind":0,   "type":"taxon",   "properties":{},   "text":[[427,439]]   },{  "id":"cd3075a1-e0e4-46e0-b1f7-c27bc324c134",   "kind":0,   "type":"protein",   "properties":{},   "text":[[57,72]]   },{  "id":"fa8a4609-7751-4e8c-bf06-6f523e32e0d5",   "kind":0,   "type":"protein",   "properties":{},   "text":[[87,100]]   },{  "id":"f9039093-0abc-4e5b-9345-f34fcddcc774",   "kind":0,   "type":"protein",   "properties":{},   "text":[[244,249]]   },{  "id":"34fcd0f4-d1ce-4fc7-b23a-66a7938a01af",   "kind":0,   "type":"gene",   "properties":{},   "text":[[217,231]]   },{  "id":"34fcd0f4-d1ce-4fc7",   "kind":0,   "type":"term",   "properties":{},   "text":[[89,100]]   }],   "groups":[{  "id":"9f43684a-a342-4990-a5af-0da184181cae",   "kind":1,   "type":"taxon_coreference",   "properties":{},   "group":[{  "ann_id" :"a4840a41-695f-4e6d-b8fd-b8ae9efbf6b7"  },{  "ann_id" :"6f211019-45e4-4b48-ac43-90000dc09cac"  },{  "ann_id" :"2cb55b5a-4345-47fe-9476-6bf3bf188095"  }]   }],   "relations":[{  "id":"98bde3dc-520b-43ef-9a9c-94f890cea2b4",   "kind":2,   "type":"expressed_in",   "properties":{},   "relation":{  "species": {  "ann_id" :"9f43684a-a342-4990-a5af-0da184181cae"  },  "product": {  "ann_id" :"34fcd0f4-d1ce-4fc7-b23a-66a7938a01af"  }  }   }]  },{  "id":2,   "owner":3,   "type":"HtmlAnnotation",   "timestamp":"2011-06-15 16:42:53 CEST",   "revision":0,   "description":"HTML formatting",   "head":true,   "text_annotations":[{  "id":"2",   "properties":{},   "text":[[0,8]],   "type":"h3",   "kind":0   }],   "groups":[],   "relations":[]  }],   "annotation_sets":[{  "id":2,   "owner":3,   "type":"HTML",   "timestamp":"2011-06-15 16:42:53 CEST",   "revision":0,   "description":"HTML formatting",   "head":true,   "text_annotations":1,   "groups":0,   "relations":0  },{  "id":66,   "owner":1,   "type":"UserAnnotation",   "timestamp":"2011-06-21 17:48:39 CEST",   "revision":64,   "description":"Foo\'s Annotation",   "head":true,   "text_annotations":7,   "groups":1,   "relations":1  }],   "schema":{  "taxon":{  "kind":0,   "type":"taxon",   "color":"#7FFF00",   "propDef":{  "taxid":{  "key":"taxid",   "mandatory":true,   "minVal":1,   "maxVal":1,   "valType":null  }  },   "txtBindingDef":{  "minFrag":1,   "maxFrag":1,   "boundRef":null,   "crossingAllowed":true  }  },     "term":{  "kind":0,   "type":"term",   "color":"silver",   "propDef":{  "TyDI_termRef":{  "key":"TyDI_termRef",   "mandatory":false,   "minVal":1,   "maxVal":1,   "valType":{  "valTypeName":"TyDI_termRef",  "TyDIRefBaseURL": "http:\/\/bibliome.jouy.inra.fr\/test\/tydiws\/rest\/training\/10360305\/"  }  },  "TyDI_classRef":{  "key":"TyDI_classRef",   "mandatory":false,   "minVal":1,   "maxVal":1,   "valType":{  "valTypeName":"TyDI_semClassRef",  "TyDIRefBaseURL": "http:\/\/bibliome.jouy.inra.fr\/test\/tydiws\/rest\/training\/10360305\/"  }  }  },   "txtBindingDef":{  "minFrag":1,   "maxFrag":1,   "boundRef":null,   "crossingAllowed":false  }  },     "protein":{  "kind":0,   "type":"protein",   "color":"#FF69B4",   "propDef":{   },   "txtBindingDef":{  "minFrag":1,   "maxFrag":1,   "boundRef":null,   "crossingAllowed":false  }  },   "gene":{  "kind":0,   "type":"gene",   "color":"#87CEFA",   "propDef":{    },   "txtBindingDef":{  "minFrag":1,   "maxFrag":1,   "boundRef":null,   "crossingAllowed":true  }  },   "taxon_coreference":{  "kind":1,   "type":"taxon_coreference",   "color":"green",   "propDef":{  "taxid":{  "key":"taxid",   "mandatory":true,   "minVal":1,   "maxVal":1,   "valType":null  }  },   "groupDef":{  "minComp":1,   "maxComp":9999999,   "compType":["taxon"],   "homogeneous":true  }  },   "gene_protein":{  "kind":1,   "type":"gene_protein",   "color":"orange",   "propDef":{    },   "groupDef":{  "minComp":1,   "maxComp":9999999,   "compType":["gene","protein"],   "homogeneous":true  }  },   "lives_in":{  "kind":2,   "type":"lives_in",   "color":"#DC143C",   "propDef":{    },   "relationDef":[{  "bacteria":["taxon","taxon_coreference"]  }, {  "host":["taxon","taxon_coreference"]  }  ]  },   "expressed_in":{  "kind":2,   "type":"expressed_in",   "color":"cyan",   "propDef":{    },   "relationDef":[{  "product":["protein","gene"]  }, {   "species":["taxon"]  }  ]  },   "ternary":{  "kind":2,   "type":"ternary",   "color":"#B8860B",   "propDef":{  "some_property":{  "key":"some_property",   "mandatory":false,   "minVal":1,   "maxVal":1,   "valType":{  "valTypeName": "ClosedDomain",   "domain":["true","false"],   "defaultVal":"true"  }  }  },   "relationDef":[{  "member1":["taxon"]  }, {   "member2":["taxon"]  }, {  "member3":["taxon"]  }  ]  }  }  } ';
            var json2 = '{  "sourceId": "LeTexteSource",  "campaignId": "camp001",  "owner": "rbossy",  "version": 1,  "versionDate": "2011-01-25",  "comment": "",  "id": "LeTexteExample","contents":"Table 1. Forty six genotypes and accessions used in this study with their origin          Series No     Categories     Name              Origin           Series No     Categories     Name                  Origin           1            I-1             PI348682          Canada           24            II-1            8202-69               China           2            I-1             PI348501          Canada           25            III-2           90-14                 China           3            I-1             PI294576          Canada           26            III-2           90-18                 China           4            I-1             PI348494          Canada           27            III-2           90-16                 China           5            I-2             Di-1              Germany          28            III-2           90-12                 China           6            I-2             Di-4              Germany          29            III-2           90-11                 China           7            I-2             Ostar             Germany          30            III-2           90-17                 China           8            I-2             1994WSC           Canada           31            III-2           90-10                 China           9            I-2             Balmegg           Switzerland      32            II-2            Changyang8850         China          10            I-2             Altgolt           Switzerland      33            II-2            BAU3320               China          11            I-2             Hubel             Switzerland      34            II-2            2410TD                China          12            I-2             Ostro             Switzerland      35            II-2            Jingshi390            China          13            I-2             Di-7              Germany          36            II-2            BAU3338               China          14            I-2             Okerkulmer        Switzerland      37            II-2            BAU3330               China          15            I-2             Di-8              Germany          38            II-2            BAU95                 China          16            I-2             Di-9              Germany          39            II-2            Yuangdong8790         China          17            I-2             Di-13             Germany          40            II-2            CA9070                China          18            II-1            309-1             China            41            II-2            Jingshi404            China          19            II-1            Gandong442        China            42            II-2            Jingdong6             China          20            II-1            Ningchun15        China            43            II-2            Jinghe931             China          21            II-1            NPFP              China            44            II-2            T0002                 China          22            II-1            11178-3460        China            45            II-2            BAU-92-101            China          23            II-1            Mian2-285         China            46            II-2            Zhongmai9             China","annotations":[    {"id":"01","kind":0,"type":"html.div","text":[[0,3247]],"properties":{},"owner":"fpa","version":0},    {"id":"02","kind":0,"type":"html.h2","text":[[0,80]],"properties":{},"owner":"fpa","version":0},    {"id":"03","kind":0,"type":"html.table","text":[[80,486]],"properties":{"border":["1"], "width":["60%"]},"owner":"fpa","version":0},    {"id":"04","kind":0,"type":"html.tr","text":[[90, 211]],"properties":{"style":["font-style:italic; text-align:center;"]},"owner":"fpa","version":0},    {"id":"a4","kind":0,"type":"html.td","text":[[90, 99]],"properties":{},"owner":"fpa","version":0},    {"id":"b4","kind":0,"type":"html.td","text":[[99, 114]],"properties":{},"owner":"fpa","version":0},    {"id":"c4","kind":0,"type":"html.td","text":[[114,123]],"properties":{},"owner":"fpa","version":0},    {"id":"d4","kind":0,"type":"html.td","text":[[123,143]],"properties":{},"owner":"fpa","version":0},    {"id":"e4","kind":0,"type":"html.td","text":[[143,163]],"properties":{},"owner":"fpa","version":0},    {"id":"f4","kind":0,"type":"html.td","text":[[163,178]],"properties":{},"owner":"fpa","version":0},    {"id":"g4","kind":0,"type":"html.td","text":[[178,187]],"properties":{},"owner":"fpa","version":0},    {"id":"h4","kind":0,"type":"html.td","text":[[187,211]],"properties":{},"owner":"fpa","version":0},    {"id":"05","kind":0,"type":"html.tr","text":[[211,354]],"properties":{},"owner":"fpa","version":0},    {"id":"a5","kind":0,"type":"html.td","text":[[211,224]],"properties":{},"owner":"fpa","version":0},    {"id":"b5","kind":0,"type":"html.td","text":[[224,239]],"properties":{},"owner":"fpa","version":0},    {"id":"c5","kind":0,"type":"html.td","text":[[239,269]],"properties":{},"owner":"fpa","version":0},    {"id":"d5","kind":0,"type":"html.td","text":[[269,286]],"properties":{},"owner":"fpa","version":0},    {"id":"e5","kind":0,"type":"html.td","text":[[286,289]],"properties":{},"owner":"fpa","version":0},    {"id":"f5","kind":0,"type":"html.td","text":[[289,316]],"properties":{},"owner":"fpa","version":0},    {"id":"g5","kind":0,"type":"html.td","text":[[316,334]],"properties":{},"owner":"fpa","version":0},    {"id":"h5","kind":0,"type":"html.td","text":[[334,354]],"properties":{},"owner":"fpa","version":0},    {"id":"06","kind":0,"type":"html.tr","text":[[354,486]],"properties":{},"owner":"fpa","version":0},    {"id":"a6","kind":0,"type":"html.td","text":[[354,355]],"properties":{},"owner":"fpa","version":0},    {"id":"b6","kind":0,"type":"html.td","text":[[355,383]],"properties":{},"owner":"fpa","version":0},    {"id":"c6","kind":0,"type":"html.td","text":[[383,401]],"properties":{},"owner":"fpa","version":0},    {"id":"d6","kind":0,"type":"html.td","text":[[401,418]],"properties":{},"owner":"fpa","version":0},    {"id":"e6","kind":0,"type":"html.td","text":[[418,432]],"properties":{},"owner":"fpa","version":0},    {"id":"f6","kind":0,"type":"html.td","text":[[432,448]],"properties":{},"owner":"fpa","version":0},    {"id":"g6","kind":0,"type":"html.td","text":[[448,470]],"properties":{},"owner":"fpa","version":0},    {"id":"h6","kind":0,"type":"html.td","text":[[470,486]],"properties":{},"owner":"fpa","version":0},    {"id":"h6","kind":0,"type":"html.br","text":[[486,486]],"properties":{},"owner":"fpa","version":0},],  "schema": {    "taxon": {      "kind": 0,      "type": "taxon",      "color": "#7FFF00",      "propDef":{        "taxid": {          "key": "taxid",          "mandatory" : true,          "minVal" : 1,          "maxVal" : 1,          "valType" : null        }      },      "txtBindingDef": {        "minFrag" : 1,        "maxFrag" : 1,        "boundRef" : null,  "crossingAllowed" : true      }    },    "protein": {      "kind": 0,      "type": "protein",      "color": "#FF69B4 ",      "propDef":{      },      "txtBindingDef": {        "minFrag" : 1,        "maxFrag" : 1,        "boundRef" : null,  "crossingAllowed" : true      }    },    "gene": {      "kind": 0,      "type": "gene",      "color": "#87CEFA",      "propDef":{      },      "txtBindingDef": {        "minFrag" : 1,        "maxFrag" : 1,        "boundRef" : null,  "crossingAllowed" : true      }    },    "taxon_coreference": {      "kind": 1,      "type": "taxon_coreference",      "color": "green",      "propDef":{        "taxid": {          "key": "taxid",          "mandatory" : true,          "minVal" : 1,          "maxVal" : 1,          "valType" : null        }      },      "groupDef": {          "minComp" : 1,          "maxComp" : 9999999,          "compType" : ["taxon"],          "homogeneous" : true        }    },    "gene_protein": {      "kind": 1,      "type": "gene_protein",      "color": "orange",      "propDef":{      },      "groupDef": {          "minComp" : 1,          "maxComp" : 9999999,          "compType" : ["gene", "protein"],          "homogeneous" : true        }    },    "lives_in": {      "kind": 2,      "type": "lives_in",      "color": "#DC143C",      "propDef": {      },      "relationDef": {          "bacteria": ["taxon", "taxon_coreference"],          "host": ["taxon", "taxon_coreference"]      }    },    "expressed_in": {      "kind": 2,      "type": "expressed_in",      "color": "cyan",      "propDef": {      },      "relationDef": {          "product": ["protein", "gene"],          "species": ["taxon"]      }    },    "ternary": {      "kind": 2,      "type": "ternary",      "color": "#B8860B",      "propDef": {        "some_property": {          "key": "some_property",          "mandatory" : false,          "minVal" : 1,          "maxVal" : 1,          "valType" : {  "closedDomain" : true, "domain" : ["true", "false"], "defaultVal" : "true"}        }      },      "relationDef": {          "member1": ["taxon"],          "member2": ["taxon"],          "member3": ["taxon"]      }    }  }}';
            var docui ; 
            function testCreateDocUI() {
                docui = new StaneDocumentUI('editorPlaceHolder1'); 
                docui.setDocument(json, '{"readOnly":true, "hiddenToolbar":true}'); 
                var docui2 = new StaneDocumentUI('editorPlaceHolder2'); 
                docui2.loadDocument(); 

                var docui3 = new StaneDocumentUI('editorPlaceHolder3'); 
                docui3.setDocument(json2, '{"readOnly" : false, "collapsedToolbar":true}'); 
            }
            
        </script>

        <div style="position: relative; height: 100%;">
            <div style="width: 100%; position: absolute; left: 1em; top: 1em; right: 0px; height:2em;">
                <input type="button" onClick="testCreateDocUI();" value="start!!!"/>
                <input type="button" onClick="alert(docui.getDocument());" value="getJSON"/>
            </div>
            <div id="cssPlaceHolder"></div>
            <div style="width: 100%; position: absolute; left: 10em; top: 5em; right: 0px; bottom: 0px;">
                <div id="editorPlaceHolder1" style="width: 75%; position: absolute; left: 0px; top: 2em; right: 5em; height: 12em; border: silver 1px solid;" ></div>
                <div id="editorPlaceHolder2" style="width: 75%; position: absolute; left: 0px; top: 17em; right: 5em; height: 12em; border: silver 1px solid;"></div>
                <div id="editorPlaceHolder3" style="width: 75%; position: absolute; left: 0px; top: 32em; right: 5em; height: 12em; border: silver 1px solid;"></div>
            </div>
        </div>
        -->


    </body>
</html>
